import React, { useState } from "react";
import SocialPostCard from "../SocialPostCard";

const posts = [
  {
    id: 1,
    user: {
      name: "BLUVARI",
      avatar: "https://randomuser.me/api/portraits/men/32.jpg",
      verified: true,
    },
    place: "View Place",
    content:
      "这次旅行选择了【XXX酒店】，整体体验非常满意，强烈推荐给正在寻找性价比高、服务贴心的朋友们！\n🏨酒店亮点\n✅ 视频无限观看\n✅ 浏览不限次数\n✅ 上传无广告",
    media: [
      "https://images.unsplash.com/photo-1506744038136-46273834b3fb",
      "https://images.unsplash.com/photo-1519125323398-675f0ddb6308",
      {
        type: "video",
        thumbnail:
          "https://images.unsplash.com/photo-1465101046530-73398c7f28ca",
      },
    ],
    time: "33min ago",
    likes: 5324,
    comments: 20,
    shares: 6,
    isAnonymous: false,
  },
  {
    id: 2,
    user: {
      name: "Anonymous",
      avatar: "",
      verified: false,
    },
    place: "View Place",
    content:
      "这次旅行选择了【江景花园酒店】，整体体验非常满意，强烈推荐给正在寻找性价比高、服务贴心的朋友们！\n🏨酒店亮点\n✅ 豪华早餐丰富\n✅ 客房宽敞舒适",
    media: [
      "https://images.unsplash.com/photo-1504674900247-0877df9cc836",
      "https://images.unsplash.com/photo-1465101178521-c1a9136a3b99",
      {
        type: "video",
        thumbnail:
          "https://images.unsplash.com/photo-1465101046530-73398c7f28ca",
      },
    ],
    time: "33min ago",
    likes: 1200,
    comments: 8,
    shares: 2,
    isAnonymous: true,
  },
];

const Topic = () => {
  const [expanded, setExpanded] = useState(false);

  return (
    <div className="w-full px-[14px] flex gap-[10px] overflow-x-auto">
      {posts.map((post) => (
        <div className="bg-[#232323] min-w-[300px] border-b border-[#181818]">
          {/* User Info Row */}
          <div className="flex items-center px-5 py-4">
            {post.user.avatar ? (
              <img
                src={post.user.avatar}
                alt={post.user.name}
                className=" w-[20px] h-[20px] rounded-full mr-3"
              />
            ) : (
              <div className=" w-[20px] h-[20px] rounded-full bg-gray-700 flex items-center justify-center mr-3">
                <span className="text-[9px] text-white">
                  {post.user.name[0]}
                </span>
              </div>
            )}
            <div className="flex items-center">
              <span className="font-semibold text-[9px] text-white mr-1.5">
                {post.user.name}
              </span>
              {post.user.verified && (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="11"
                  height="11"
                  viewBox="0 0 11 11"
                  fill="none"
                >
                  <path
                    d="M8.72298 5.90625C8.72298 7.61488 7.33786 9 5.62923 9C3.9206 9 2.53548 7.61488 2.53548 5.90625C2.53548 4.19762 3.9206 2.8125 5.62923 2.8125C7.33786 2.8125 8.72298 4.19762 8.72298 5.90625Z"
                    fill="white"
                  />
                  <path
                    d="M5.31539 0.620373C5.21158 0.676426 4.96661 0.888184 4.56385 1.27018C4.42476 1.40097 4.34587 1.4591 4.29812 1.46948C4.19639 1.48816 3.9701 1.46118 3.64001 1.39059C3.4241 1.34492 3.28708 1.32831 3.11061 1.32623C2.88432 1.32208 2.86564 1.32416 2.77429 1.37813C2.68087 1.43419 2.55008 1.58366 2.55008 1.63764C2.55008 1.65217 2.53762 1.6937 2.52101 1.73106C2.5044 1.76843 2.47741 1.85148 2.46081 1.91376C2.41721 2.07569 2.36531 2.27914 2.33209 2.41201C2.25528 2.72342 2.23659 2.77532 2.18469 2.8293C2.1494 2.86667 1.98746 2.94763 1.74249 3.05351C0.959815 3.38984 0.868469 3.45627 0.818643 3.72408C0.797883 3.83826 0.885077 4.18289 1.09684 4.82024C1.15704 5.00293 1.16742 5.0839 1.13628 5.15656C1.12175 5.19393 0.984728 5.40776 0.835252 5.63405C0.43042 6.23819 0.390975 6.33991 0.471942 6.55998C0.530071 6.71153 0.673319 6.85685 1.02417 7.12051C1.32728 7.3468 1.40824 7.42984 1.49129 7.59801C1.55357 7.72257 1.55564 7.73918 1.54526 7.89903C1.51412 8.34331 1.50789 8.75852 1.53281 8.86855C1.5764 9.06163 1.67398 9.17789 1.85875 9.2547C1.94179 9.28999 2.23452 9.32944 2.68087 9.36473C3.04003 9.3938 3.11061 9.41456 3.21234 9.51836C3.26009 9.56611 3.29746 9.61178 3.29746 9.62216C3.29746 9.63254 3.35351 9.73427 3.42202 9.84845C3.49053 9.96056 3.54658 10.0581 3.54658 10.0623C3.54658 10.0747 3.73135 10.3426 3.82062 10.4609C3.8663 10.5211 3.94726 10.5938 3.99917 10.6249C4.08221 10.6747 4.1175 10.683 4.25244 10.681C4.43929 10.6789 4.54724 10.6332 5.25933 10.2595C5.3922 10.191 5.44825 10.1723 5.5396 10.1702C5.64548 10.1682 5.68908 10.1848 6.14581 10.4111C6.43023 10.5522 6.68351 10.6623 6.74371 10.6747C6.97 10.7183 7.11118 10.654 7.29802 10.4256C7.35823 10.3509 7.40805 10.2844 7.40805 10.2761C7.40805 10.2678 7.44335 10.2076 7.48902 10.1412C7.53262 10.0747 7.62604 9.91696 7.69662 9.7924C7.91253 9.4104 7.92084 9.40625 8.46477 9.35643C9.12288 9.29415 9.19346 9.28169 9.34086 9.18827C9.43221 9.13014 9.49242 9.05125 9.53394 8.92876C9.57131 8.82288 9.57753 8.3267 9.54639 7.9281C9.51733 7.55026 9.5028 7.57309 9.99275 7.18487C10.408 6.8527 10.5554 6.70322 10.6073 6.55582C10.6426 6.45202 10.6467 6.4188 10.6259 6.32953C10.599 6.19874 10.5429 6.0721 10.4619 5.95377C10.4266 5.90187 10.3976 5.85412 10.3976 5.84789C10.3976 5.83958 10.3187 5.72955 10.2232 5.60291C10.1277 5.4742 10.0301 5.32472 10.0052 5.26867C9.92839 5.0922 9.9533 4.78079 10.0592 4.58149C10.1588 4.39465 10.2709 3.98151 10.273 3.80712C10.273 3.49571 10.1547 3.38776 9.50487 3.11787C9.36162 3.05767 9.17893 2.98293 9.09589 2.94764C8.86337 2.85006 8.85507 2.8376 8.72427 2.30821C8.69521 2.1878 8.66407 2.05285 8.65369 2.00718C8.64331 1.96151 8.60594 1.84525 8.57272 1.74975C8.47515 1.47778 8.35058 1.34907 8.15959 1.32416C8.05578 1.3117 7.70493 1.33869 7.57621 1.37191C7.3603 1.42796 7.10702 1.46533 6.92848 1.46533L6.72918 1.4674L6.57555 1.32623C6.49044 1.24942 6.29736 1.07088 6.14373 0.929706C5.9901 0.786458 5.81987 0.649438 5.75966 0.618297C5.61226 0.543559 5.45863 0.543558 5.31539 0.620373ZM7.61151 4.11438C7.70493 4.1642 7.82326 4.28462 7.87517 4.38219C7.91876 4.46731 7.93745 4.66661 7.90838 4.76834C7.89593 4.81401 7.8461 4.90743 7.79628 4.97594C7.74645 5.04445 7.15062 5.65689 6.47175 6.33991C5.06211 7.75371 5.13269 7.69766 4.82751 7.68105C4.68426 7.67274 4.64274 7.66236 4.5597 7.61046C4.45382 7.54403 4.14864 7.26168 3.63793 6.75928C3.24556 6.37105 3.18327 6.27348 3.19781 6.05757C3.22064 5.67765 3.60056 5.40984 3.93481 5.53648C4.06975 5.58631 4.33133 5.79391 4.60537 6.06587C4.73824 6.19874 4.81506 6.25272 4.86696 6.25272C4.8981 6.25272 4.99152 6.17175 5.15761 5.99944C5.55828 5.58838 6.27037 4.87422 6.65237 4.50468C7.08834 4.08116 7.14647 4.04587 7.38937 4.0604C7.47449 4.06663 7.55753 4.08739 7.61151 4.11438Z"
                    fill="#4A83E9"
                  />
                </svg>
              )}
            </div>
            <button className="ml-auto bg-[#3A3A3A] text-yellow-400 rounded-full px-3 py-1.5 text-[7px] font-medium flex items-center">
              <svg
                className="w-3.5 h-3.5 mr-1.5"
                fill="currentColor"
                viewBox="0 0 24 24"
              >
                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />
              </svg>
              View Place
            </button>
          </div>

          {/* Content */}
          <div className="px-5 text-[9px] text-white leading-[11px]">
            {expanded ? post.content : post.content.slice(0, 100)}
            {post.content.length > 100 && (
              <span
                className="text-gray-400 cursor-pointer ml-1.5 text-[7px]"
                onClick={() => setExpanded(!expanded)}
              >
                {expanded ? "...see less" : "...see more"}
              </span>
            )}
            <div className="flex flex-wrap gap-1.5 mt-2.5 mb-4">
              {post.tags?.map((tag, index) => (
                <span
                  key={index}
                  className="text-[7px] text-white flex items-center"
                >
                  {tag.icon && <span className="mr-1.5">{tag.icon}</span>}
                  {tag.text}
                  {index < post.tags.length - 1 && (
                    <span className="mx-1.5">•</span>
                  )}
                </span>
              ))}
            </div>
          </div>

          {/* Media Grid */}
          <div className="grid grid-cols-3 gap-[2px]">
            {[1, 2, 3].map((_, idx) => (
              <div key={idx} className="aspect-square bg-[#181818]" />
            ))}
          </div>

          {/* Actions Row */}
          <div className="flex w-full items-center px-5 py-4 text-gray-400">
            <span className="text-[7px]">{post.time}</span>
            <div className="ml-auto flex items-center space-x-7">
              <span className="flex items-center text-[9px]">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="13"
                  height="13"
                  viewBox="0 0 13 13"
                  fill="none"
                >
                  <g clip-path="url(#clip0_1304_14191)">
                    <path
                      d="M3.05 5.26016V10.6602H1.25V5.26016H3.05ZM4.85 10.6602C4.61131 10.6602 4.38239 10.5653 4.2136 10.3966C4.04482 10.2278 3.95 9.99885 3.95 9.76016V5.26016C3.95 5.01266 4.049 4.78766 4.2155 4.62566L7.1765 1.66016L7.6535 2.13716C7.775 2.25866 7.8515 2.42516 7.8515 2.60966L7.838 2.75366L7.4105 4.81016H10.25C10.4887 4.81016 10.7176 4.90498 10.8864 5.07376C11.0552 5.24254 11.15 5.47146 11.15 5.71016V6.61016C11.15 6.72716 11.1275 6.83516 11.087 6.93866L9.728 10.1112C9.593 10.4352 9.2735 10.6602 8.9 10.6602H4.85Z"
                      stroke="white"
                      stroke-width="0.675"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_1304_14191">
                      <rect
                        width="11.8125"
                        height="11.8125"
                        fill="white"
                        transform="translate(0.875 0.722656)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                {post.likes}
              </span>
              <span className="flex items-center text-[9px]">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="13"
                  height="13"
                  viewBox="0 0 13 13"
                  fill="none"
                >
                  <path
                    d="M4.09375 6.56003C4.23147 6.56003 4.34884 6.51156 4.44587 6.41462C4.54281 6.31759 4.59128 6.20022 4.59128 6.0625C4.59128 5.92478 4.54281 5.80741 4.44587 5.71038C4.34884 5.61344 4.23147 5.56497 4.09375 5.56497C3.95603 5.56497 3.83866 5.61344 3.74162 5.71038C3.64469 5.80741 3.59622 5.92478 3.59622 6.0625C3.59622 6.20022 3.64469 6.31759 3.74162 6.41462C3.83866 6.51156 3.95603 6.56003 4.09375 6.56003ZM6.34375 6.56003C6.48147 6.56003 6.59884 6.51156 6.69588 6.41462C6.79281 6.31759 6.84128 6.20022 6.84128 6.0625C6.84128 5.92478 6.79281 5.80741 6.69588 5.71038C6.59884 5.61344 6.48147 5.56497 6.34375 5.56497C6.20603 5.56497 6.08866 5.61344 5.99162 5.71038C5.89469 5.80741 5.84622 5.92478 5.84622 6.0625C5.84622 6.20022 5.89469 6.31759 5.99162 6.41462C6.08866 6.51156 6.20603 6.56003 6.34375 6.56003ZM8.59375 6.56003C8.73147 6.56003 8.84884 6.51156 8.94587 6.41462C9.04281 6.31759 9.09128 6.20022 9.09128 6.0625C9.09128 5.92478 9.04281 5.80741 8.94587 5.71038C8.84884 5.61344 8.73147 5.56497 8.59375 5.56497C8.45603 5.56497 8.33866 5.61344 8.24163 5.71038C8.14469 5.80741 8.09622 5.92478 8.09622 6.0625C8.09622 6.20022 8.14469 6.31759 8.24163 6.41462C8.33866 6.51156 8.45603 6.56003 8.59375 6.56003ZM1 12.2717V2.86061C1 2.57645 1.09844 2.33594 1.29531 2.13906C1.49219 1.94219 1.7327 1.84375 2.01686 1.84375H10.6706C10.9548 1.84375 11.1953 1.94219 11.3922 2.13906C11.5891 2.33594 11.6875 2.57645 11.6875 2.86061V9.26439C11.6875 9.54855 11.5891 9.78906 11.3922 9.98594C11.1953 10.1828 10.9548 10.2812 10.6706 10.2812H2.99041L1 12.2717ZM2.63125 9.4375H10.6706C10.714 9.4375 10.7536 9.41945 10.7896 9.38336C10.8257 9.34736 10.8438 9.3077 10.8438 9.26439V2.86061C10.8438 2.8173 10.8257 2.77764 10.7896 2.74164C10.7536 2.70555 10.714 2.6875 10.6706 2.6875H2.01686C1.97355 2.6875 1.93389 2.70555 1.89789 2.74164C1.8618 2.77764 1.84375 2.8173 1.84375 2.86061V10.2164L2.63125 9.4375Z"
                    fill="#E3E3E3"
                  />
                </svg>
                {post.comments}
              </span>
              <span className="flex items-center text-[9px]">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="12"
                  height="13"
                  viewBox="0 0 12 13"
                  fill="none"
                >
                  <path
                    d="M2.08204 10.8438C1.8146 10.8438 1.58824 10.7511 1.40294 10.5658C1.21765 10.3805 1.125 10.1541 1.125 9.88671V2.80079C1.125 2.53335 1.21765 2.30699 1.40294 2.12169C1.58824 1.9364 1.8146 1.84375 2.08204 1.84375H5.42131V2.63787H2.08204C2.04128 2.63787 2.00396 2.65485 1.97007 2.68882C1.9361 2.72271 1.91912 2.76003 1.91912 2.80079V9.88671C1.91912 9.92747 1.9361 9.96479 1.97007 9.99868C2.00396 10.0326 2.04128 10.0496 2.08204 10.0496H9.16796C9.20872 10.0496 9.24604 10.0326 9.27993 9.99868C9.3139 9.96479 9.33088 9.92747 9.33088 9.88671V6.54744H10.125V9.88671C10.125 10.1541 10.0324 10.3805 9.84706 10.5658C9.66177 10.7511 9.4354 10.8438 9.16796 10.8438H2.08204ZM4.41754 8.10907L3.85968 7.55121L8.77301 2.63787H6.68382V1.84375H10.125V5.28493H9.33088V3.19574L4.41754 8.10907Z"
                    fill="#E3E3E3"
                  />
                </svg>
                {post.shares}
              </span>
            </div>
          </div>
        </div>
      ))}
    </div>
  );
};

export default Topic;
